import{_ as D}from"./TextInput-DOdbCMPI.js";import{r as s,f as q,w as f,B as w,N,E as v,c as i,Q as l,R as n,T as U,A as o,W as E,G}from"./index-BjIKEqiH.js";import{_ as c}from"./MainSelect-DnudRE6y.js";import{L as x}from"./LargeButton-B99SLnUj.js";import{c as P,g as T}from"./categories-DH3DW9Od.js";import"./VTextField-QYsDKkgX.js";import"./transition-D3RRR1gk.js";import"./VInput-B-AyeEKI.js";import"./elevation-ClR-Unkx.js";import"./index-BKArx8Ql.js";import"./VImg-DBVXlPJu.js";import"./VSelectionControl-Bb5i-ipU.js";const k={class:"wrapper"},C=v("h2",null,"Укажите Ваше подразделение",-1),I=v("h2",null,"Укажите Ваше ФИО",-1),O={__name:"Extraordinary",setup(L){let r=s(""),u=s(""),m=s(""),p=s(""),_=s(""),V=s(""),a=s(""),g=["Сначала выберите подразделение"];const y=q(()=>o.getters.getDepartaments);f(y),f(()=>u.value,d=>{g=o.getters.getEmployesByDept(d)}),f(()=>r.value,async d=>{const e=await E(d);e?(a.value=e[0].group,m.value=e[0].jobTitle,p.value=e[0].category,_.value=e[0].previousGroup,V.value=e[0].previousDate,o.commit("updatePreviousGroup",e[0].group),o.commit("updateId",e[0].id)):a.value=""});const b=()=>{o.commit("updateEmployeeName",r),o.commit("updateDepartament",u),o.commit("updateProfession",m),o.commit("updateCategory",p),o.commit("updateGroup",a),o.commit("updatePreviousDate",V),G.push("/test")};return(d,e)=>{const B=D;return w(),N("div",k,[v("form",{onSubmit:U(b,["prevent"])},[C,i(c,{class:"select",modelValue:l(u),"onUpdate:modelValue":e[0]||(e[0]=t=>n(u)?u.value=t:u=t),options:y.value,label:"Подразделение",required:!0},null,8,["modelValue","options"]),I,i(c,{class:"select",modelValue:l(r),"onUpdate:modelValue":e[1]||(e[1]=t=>n(r)?r.value=t:r=t),options:l(g),label:"Сотрудник",required:!0},null,8,["modelValue","options"]),i(B,{required:!0,modelValue:l(m),"onUpdate:modelValue":e[2]||(e[2]=t=>n(m)?m.value=t:m=t),label:"Ваша должность (при необходимости укажите новую)"},null,8,["modelValue"]),i(c,{class:"select",modelValue:l(p),"onUpdate:modelValue":e[3]||(e[3]=t=>n(p)?p.value=t:p=t),options:l(P),label:"Категория персонала (при необходимости укажите новую) ",required:!0},null,8,["modelValue","options"]),i(c,{class:"select",modelValue:l(a),"onUpdate:modelValue":e[4]||(e[4]=t=>n(a)?a.value=t:a=t),options:l(T),label:"Требуемая группа до 1000В",required:!0},null,8,["modelValue","options"]),i(x,{type:d.submit,buttonText:"Начать проверку!",required:!0},null,8,["type"])],32)])}}};export{O as default};
