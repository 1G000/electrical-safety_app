import{_ as D,c as U,g as q}from"./TextInput-B8siiHdB.js";import{r as s,f as w,w as f,B as N,N as E,E as v,c as i,Q as l,R as n,T as G,A as o,U as x,G as P}from"./index-BJuf7HZa.js";import{_ as c}from"./MainSelect-Ds94X7Ma.js";import{L as T}from"./LargeButton-Dfcd56mj.js";import"./transition-N3qcLbOC.js";import"./VInput-CO3vnKCU.js";import"./elevation-BbTmhuxT.js";import"./VImg-DYybd04w.js";const k={class:"wrapper"},C=v("h2",null,"Укажите Ваше подразделение",-1),I=v("h2",null,"Укажите Ваше ФИО",-1),F={__name:"Extraordinary",setup(L){let u=s(""),r=s(""),m=s(""),p=s(""),_=s(""),V=s(""),a=s(""),g=["Сначала выберите подразделение"];const y=w(()=>o.getters.getDepartaments);f(y),f(()=>r.value,d=>{g=o.getters.getEmployesByDept(d)}),f(()=>u.value,async d=>{const e=await x(d);e?(a.value=e[0].group,m.value=e[0].jobTitle,p.value=e[0].category,_.value=e[0].previousGroup,V.value=e[0].previousDate,o.commit("updatePreviousGroup",e[0].group),o.commit("updateId",e[0].id)):a.value=""});const b=()=>{o.commit("updateEmployeeName",u),o.commit("updateDepartament",r),o.commit("updateProfession",m),o.commit("updateCategory",p),o.commit("updateGroup",a),o.commit("updatePreviousDate",V),P.push("/test")};return(d,e)=>{const B=D;return N(),E("div",k,[v("form",{onSubmit:G(b,["prevent"])},[C,i(c,{class:"select",modelValue:l(r),"onUpdate:modelValue":e[0]||(e[0]=t=>n(r)?r.value=t:r=t),options:y.value,label:"Подразделение",required:!0},null,8,["modelValue","options"]),I,i(c,{class:"select",modelValue:l(u),"onUpdate:modelValue":e[1]||(e[1]=t=>n(u)?u.value=t:u=t),options:l(g),label:"Сотрудник",required:!0},null,8,["modelValue","options"]),i(B,{required:!0,modelValue:l(m),"onUpdate:modelValue":e[2]||(e[2]=t=>n(m)?m.value=t:m=t),label:"Ваша должность (при необходимости укажите новую)"},null,8,["modelValue"]),i(c,{class:"select",modelValue:l(p),"onUpdate:modelValue":e[3]||(e[3]=t=>n(p)?p.value=t:p=t),options:l(U),label:"Категория персонала (при необходимости укажите новую) ",required:!0},null,8,["modelValue","options"]),i(c,{class:"select",modelValue:l(a),"onUpdate:modelValue":e[4]||(e[4]=t=>n(a)?a.value=t:a=t),options:l(q),label:"Требуемая группа до 1000В",required:!0},null,8,["modelValue","options"]),i(T,{type:d.submit,buttonText:"Начать проверку!",required:!0},null,8,["type"])],32)])}}};export{F as default};
