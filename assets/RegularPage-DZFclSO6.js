import{r,f as V,w as _,B as b,N as B,E as e,c as f,Q as a,R as h,F as p,T as w,A as s,W as N,G as E}from"./index-BjIKEqiH.js";import{_ as y}from"./MainSelect-DnudRE6y.js";import{L as P}from"./LargeButton-B99SLnUj.js";import"./VTextField-QYsDKkgX.js";import"./transition-D3RRR1gk.js";import"./VInput-B-AyeEKI.js";import"./elevation-ClR-Unkx.js";import"./index-BKArx8Ql.js";import"./VImg-DBVXlPJu.js";import"./VSelectionControl-Bb5i-ipU.js";const q={class:"wrapper"},R=e("h2",null,"Укажите Ваше подразделение",-1),T=e("h2",null,"Укажите Ваше ФИО",-1),U={class:"data-field"},k=e("p",null,"Должность:",-1),x={class:"data-field"},C=e("p",null,"Категория персонала:",-1),G={class:"data-field"},L=e("p",null,"Действующая группа по электробезопасности:",-1),S={class:"data-field"},j=e("p",null,"Дата проведения предыдущей проверки знаний:",-1),O={__name:"RegularPage",setup(A){let o=r(""),l=r(""),d=r(""),m=r(""),c=r(""),n=r(""),v=["Сначала выберите подразделение"];const g=V(()=>s.getters.getDepartaments);_(g),_(()=>l.value,i=>{v=s.getters.getEmployesByDept(i)}),_(()=>o.value,async i=>{const t=await N(i);t?(n.value=t[0].group,d.value=t[0].jobTitle,m.value=t[0].category,c.value=t[0].previousDate,s.commit("updateId",t[0].id)):n.value=""});const D=()=>{s.commit("updateEmployeeName",o),s.commit("updateDepartament",l),s.commit("updateProfession",d),s.commit("updateCategory",m),s.commit("updateGroup",n),s.commit("updatePreviousDate",c),E.push("/test")};return(i,t)=>(b(),B("div",q,[e("form",{onSubmit:w(D,["prevent"])},[R,f(y,{class:"select",modelValue:a(l),"onUpdate:modelValue":t[0]||(t[0]=u=>h(l)?l.value=u:l=u),options:g.value,label:"Подразделение",required:!0},null,8,["modelValue","options"]),T,f(y,{class:"select",modelValue:a(o),"onUpdate:modelValue":t[1]||(t[1]=u=>h(o)?o.value=u:o=u),options:a(v),label:"Сотрудник",required:!0},null,8,["modelValue","options"]),e("div",U,[k,e("span",null,p(a(d)),1)]),e("div",x,[C,e("span",null,p(a(m)),1)]),e("div",G,[L,e("span",null,p(`${a(n)} `)+" до 1000 В",1)]),e("div",S,[j,e("span",null,p(`${a(c)} `),1)]),f(P,{type:i.submit,buttonText:"Начать проверку!",required:!0},null,8,["type"])],32)]))}};export{O as default};
