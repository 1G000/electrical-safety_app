import{r as u,f as V,w as _,B as b,N as B,E as e,c as f,Q as a,R as h,F as d,T as w,A as s,U as N,G as E}from"./index-BJuf7HZa.js";import{_ as y}from"./MainSelect-Ds94X7Ma.js";import{L as P}from"./LargeButton-Dfcd56mj.js";import"./transition-N3qcLbOC.js";import"./VInput-CO3vnKCU.js";import"./elevation-BbTmhuxT.js";import"./VImg-DYybd04w.js";const U={class:"wrapper"},q=e("h2",null,"Укажите Ваше подразделение",-1),R=e("h2",null,"Укажите Ваше ФИО",-1),T={class:"data-field"},k=e("p",null,"Должность:",-1),x={class:"data-field"},C=e("p",null,"Категория персонала:",-1),G={class:"data-field"},L=e("p",null,"Действующая группа по электробезопасности:",-1),S={class:"data-field"},j=e("p",null,"Дата проведения предыдущей проверки знаний:",-1),J={__name:"RegularPage",setup(A){let o=u(""),l=u(""),p=u(""),m=u(""),c=u(""),n=u(""),v=["Сначала выберите подразделение"];const g=V(()=>s.getters.getDepartaments);_(g),_(()=>l.value,r=>{v=s.getters.getEmployesByDept(r)}),_(()=>o.value,async r=>{const t=await N(r);t?(n.value=t[0].group,p.value=t[0].jobTitle,m.value=t[0].category,c.value=t[0].previousDate,s.commit("updateId",t[0].id)):n.value=""});const D=()=>{s.commit("updateEmployeeName",o),s.commit("updateDepartament",l),s.commit("updateProfession",p),s.commit("updateCategory",m),s.commit("updateGroup",n),s.commit("updatePreviousDate",c),E.push("/test")};return(r,t)=>(b(),B("div",U,[e("form",{onSubmit:w(D,["prevent"])},[q,f(y,{class:"select",modelValue:a(l),"onUpdate:modelValue":t[0]||(t[0]=i=>h(l)?l.value=i:l=i),options:g.value,label:"Подразделение",required:!0},null,8,["modelValue","options"]),R,f(y,{class:"select",modelValue:a(o),"onUpdate:modelValue":t[1]||(t[1]=i=>h(o)?o.value=i:o=i),options:a(v),label:"Сотрудник",required:!0},null,8,["modelValue","options"]),e("div",T,[k,e("span",null,d(a(p)),1)]),e("div",x,[C,e("span",null,d(a(m)),1)]),e("div",G,[L,e("span",null,d(`${a(n)} `)+" до 1000 В",1)]),e("div",S,[j,e("span",null,d(`${a(c)} `),1)]),f(P,{type:r.submit,buttonText:"Начать проверку!",required:!0},null,8,["type"])],32)]))}};export{J as default};
